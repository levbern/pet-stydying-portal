CREATE TABLE Users (
    user_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(20) NOT NULL,
    surname VARCHAR(20) NOT NULL,
    patronymic VARCHAR(20) NOT NULL,
    login VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    password_hash CHAR(60) NOT NULL,
    access_level TINYINT DEFAULT 0
);

CREATE TABLE Achievements (
    achievement_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(30) NOT NULL,
    text VARCHAR(80) NOT NULL, 
    type VARCHAR(15) NOT NULL
);

CREATE TABLE AchievementsUsers (
    conn_id INTEGER PRIMARY KEY AUTOINCREMENT,
    achievement_id INTEGER NOT NULL,
    user_id INTEGER NOT NULL
);

CREATE TABLE UserCourse (
    conn_id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    course_id INTEGER NOT NULL,
    role TINYINT DEFAULT 0
);

CREATE TABLE Courses (
    course_id INTEGER PRIMARY KEY AUTOINCREMENT,
    creator_id INTEGER NOT NULL,
    name VARCHAR(30) NOT NULL,
    description VARCHAR(90) NOT NULL,
    subject VACHAR(15) NOT NULL,
    tags VARCHAR(100) NOT NULL,
    finished TINYINT DEFAULT 0
);

CREATE TABLE CourseCompletion (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    course_id INTEGER NOT NULL,
    type_id INTEGER NOT NULL,
    type VARCHAR(10) NOT NULL
)


CREATE TABLE Tags (
    tag_id INTEGER PRIMARY KEY AUTOINCREMENT,
    course_id INTEGER NOT NULL,
    name VARCHAR(20) NOT NULL
);


CREATE TABLE Lections (
    lection_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VACHAR(20) NOT NULL,
    description TEXT NOT NULL,
    text TEXT NOT NULL
)

CREATE TABLE Test (
    test_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT NOT NULL
);

CREATE TABLE TaskCourse (
    conn_id INTEGER PRIMARY KEY AUTOINCREMENT,
    number INTEGER UNIQUE NOT NULL,
    task_id INTEGER NOT NULL,
    course_id INTEGER NOT NULL,
    type TEXT NOT NULL
);


